\documentclass[ebook,11pt,article]{memoir}
\usepackage{geometry}  % See geometry.pdf to learn the layout options. There are lots.
\geometry{a4paper}  % ... or a4paper or a5paper or ... 
%\geometry{landscape}  % Activate for for rotated page geometry
%%% from std.tex
%\usepackage[american]
%           {babel}        % needed for iso dates
%\usepackage[iso,american]
%           {isodate}      % use iso format for dates
\usepackage[final]
           {listings}     % code listings
%\usepackage{longtable}    % auto-breaking tables
%\usepackage{ltcaption}    % fix captions for long tables
\usepackage{relsize}      % provide relative font size changes
%\usepackage{textcomp}     % provide \text{l,r}angle
\usepackage{underscore}   % remove special status of '_' in ordinary text
%\usepackage{parskip}      % handle non-indented paragraphs "properly"
%\usepackage{array}        % new column definitions for tables
\usepackage[normalem]{ulem}
\usepackage{enumitem}
\usepackage{color}        % define colors for strikeouts and underlines
%\usepackage{amsmath}      % additional math symbols
%\usepackage{mathrsfs}     % mathscr font
\usepackage[final]{microtype}
%\usepackage{multicol}
\usepackage{xspace}
%\usepackage{lmodern}
\usepackage[T1]{fontenc} % makes tilde work! and is better for umlauts etc.
%\usepackage[pdftex, final]{graphicx}
\usepackage[pdftex,
%            pdftitle={C++ International Standard},
%            pdfsubject={C++ International Standard},
%            pdfcreator={Richard Smith},
            bookmarks=true,
            bookmarksnumbered=true,
            pdfpagelabels=true,
            pdfpagemode=UseOutlines,
            pdfstartview=FitH,
            linktocpage=true,
            colorlinks=true,
            linkcolor=blue,
            plainpages=false
           ]{hyperref}
%\usepackage{memhfixc}     % fix interactions between hyperref and memoir
%\usepackage[active,header=false,handles=false,copydocumentclass=false,generate=std-gram.ext,extract-cmdline={gramSec},extract-env={bnftab,simplebnf,bnf,bnfkeywordtab}]{extract} % Grammar extraction
%
\renewcommand\RSsmallest{5.5pt}  % smallest font size for relsize


%%%% reuse all three from std.tex:
\input{macros}
\input{layout}
\input{styles}

\pagestyle{myheadings}

\newcommand{\papernumber}{p1412}
\newcommand{\paperdate}{2019-01-21}

\markboth{\papernumber{} \paperdate{}}{\papernumber{} \paperdate{}}

\title{\papernumber{} - On user-declared and user-defined special member functions in safety-critical code}
\author{Peter Sommerlad}
\date{\paperdate}                % Activate to display a given date or no date
\setsecnumdepth{subsection}

\begin{document}
\maketitle
\begin{center}
\begin{tabular}[t]{|l|l|}\hline 
Document Number:&  \papernumber \\\hline
Date: & \paperdate \\\hline
Project: & Programming Language C++ / Programming Language Vulnerabilities C++\\\hline 
Audience: & SG12 / ISO SC22 WG23, SG20, Misra C++\\\hline
\end{tabular}
\end{center}
\chapter{Introduction}

Why.

Type system.

Promote value types/regular types.

UB


level of developer expertise

context of audience.

\chapter{history}

rule of zero and related



Properties to be discussed. 

Potential dangers.

\chapter{Forces for Safety in Source Code}
As a pattern (book) author I would like to introduce so-called "forces" that are used in a pattern's problem description to denote design constraints that influence the pattern's solution. Often such forces are not absolute and a pattern make conscious trade-offs. That is also a reason, why often conflicting patterns for a problem exist that resolve to different solutions.

Here I collect forces that in my observation have influenced existing programming guidelines.
\begin{itemize}
\item Simplicity
\item Familiarity
\item Code Evolution (aka Maintenance)
\end{itemize}

\chapter{Howard Hinnant's special member function overview}
\begin{table}[htp]
\caption{Howard Hinnant's special member functions table}
\begin{center}
\begin{tabular}{|c||c|c|c|c|c|c||c|}
 &\multicolumn{6}{c}{What the compiler provides for class X}& \\
 user\newline{}declares   & {\tcode{X()}} & {\tcode{\~X()}} & {\tcode{X(X const\&)}} & {\tcode{=(X const\&)}} & {\tcode{X(X \&\&)}} & {\tcode{=(X \&\&)}} &   OK? \\
\hline
 nothing & \tcode{=default} & \tcode{=default} & \tcode{=default} & \tcode{=default} & \tcode{=default} & \tcode{=default} & OK \\
\hline
\tcode{X(T)} & not decl& \tcode{=default} & \tcode{=default} & \tcode{=default} & \tcode{=default} & \tcode{=default} & OK \\
\hline
\tcode{X()} & \textit{declared} & \tcode{=default} & \tcode{=default} & \tcode{=default} & \tcode{=default} & \tcode{=default} & (OK) \\
\hline
\tcode{\~X()} & \tcode{=default} & \textit{declared} & \color{red}\tcode{=default} & \color{red}\tcode{=default} & not decl& not decl& \color{red}\textbf{BAD} \\
\hline
\tcode{X(X const\&)} & not decl& \tcode{=default} & \textit{declared} & \color{red}\tcode{=default} & not decl& not decl& \color{red}\textbf{BAD} \\
\hline
\tcode{=(X const\&)} & \tcode{=default} & \tcode{=default} & \color{red}\tcode{=default} & \textit{declared} & not decl& not decl& \color{red}\textbf{BAD} \\
\hline
\tcode{X(X\&\&)} & not decl& \tcode{=default} & \tcode{=delete} &  \tcode{=delete} & \textit{declared} & not decl& \color{red}\textbf{BAD} \\
\hline
\tcode{=(X\&\&)} & \tcode{=default} & \tcode{=default} & \tcode{=delete} &  \tcode{=delete} & not decl& \textit{declared} & {(BAD)} \\
\hline
\end{tabular}
\end{center}
\label{default}
\end{table}%

\begin{table}[htp]
\caption{Safe and Sane combinations of Special Member Functions (TODO)}
\begin{center}
\begin{tabular}{|c||c|c|c|c|c|c||c|}
 &\multicolumn{6}{c}{declared or provided}& \\
type category & {\tcode{X()}} & {\tcode{\~X()}} & {\tcode{X(X const\&)}} & {\tcode{=(X const\&)}} & {\tcode{X(X \&\&)}} & {\tcode{=(X \&\&)}}  \\
\hline
value/aggregate & \tcode{=default} & \tcode{=default} & \tcode{=default} & \tcode{=default} & \tcode{=default} & \tcode{=default} & OK \\
\hline
value & not decl& \tcode{=default} & \tcode{=default} & \tcode{=default} & \tcode{=default} & \tcode{=default} & OK \\
\hline
\tcode{X()} & \textit{declared} & \tcode{=default} & \tcode{=default} & \tcode{=default} & \tcode{=default} & \tcode{=default} & (OK) \\
\hline
OO & \tcode{=default} & \textit{declared} & \color{red}\tcode{=default} & \color{red}\tcode{=default} & not decl& not decl& \color{red}\textbf{BAD} \\
\hline
\tcode{X(X const\&)} & not decl& \tcode{=default} & \textit{declared} & \color{red}\tcode{=default} & not decl& not decl& \color{red}\textbf{BAD} \\
\hline
\tcode{=(X const\&)} & \tcode{=default} & \tcode{=default} & \color{red}\tcode{=default} & \textit{declared} & not decl& not decl& \color{red}\textbf{BAD} \\
\hline
\tcode{X(X\&\&)} & not decl& \tcode{=default} & \tcode{=delete} &  \tcode{=delete} & \textit{declared} & not decl& \color{red}\textbf{BAD} \\
\hline
\tcode{=(X\&\&)} & \tcode{=default} & \tcode{=default} & \tcode{=delete} &  \tcode{=delete} & not decl& \textit{declared} & {(BAD)} \\
\hline
\end{tabular}
\end{center}
\label{default}
\end{table}%



\section{Items to be discussed}
Things I am unsure
\begin{itemize}
\item Are there further useful and safe exceptions?
\end{itemize}


\chapter{Categories of safe user-defined classes}
\section{Plain Value Types}
\section{Monomorphic Object Types (better name) - Encapsulation Types}
\section{Polymorphic Object Types - Class Hierarchies}
\section{Resource Managing Types}

%%%%%%

\chapter{Bibliography}
Core Guidelines

MISRA

Rule of Zero

Howard's table
\end{document}

